<!DOCTYPE HTML>
<html lang="en">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta charset="utf-8">
    <title>Charm++: Tutorial</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
		<link href="../assets/charmwebsite.css" rel="stylesheet" type="text/css">
		<link href="https://fonts.googleapis.com/css?family=Puritan" rel="stylesheet" type="text/css">
		<link href="https://fonts.googleapis.com/css?family=Droid%20Sans" rel="stylesheet" type="text/css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript">
		</script>
		<script src="../codemirror/lib/codemirror.js" type="text/javascript">
		</script>
		<script src="../codemirror/mode/clike/clike.js" type="text/javascript">
		</script>
		<script src="../codemirror/lib/util/runmode.js" type="text/javascript">
		</script>
		<link href="../codemirror/lib/codemirror.css" rel="stylesheet" type="text/css">
		<link href="../codemirror/theme/lesser-dark.css" rel="stylesheet" type="text/css">
		<script src="../assets/prettify.js" type="text/javascript">
		</script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
		<!-- for equations from LaTeX to appear correctly-->
		<script type="text/javascript" src="https://latex.codecogs.com/latexit.js"></script>
		
    <!-- you don't need to keep this, but it's cool for stats! -->
    <meta name="generator" content="nanoc 4.11.14"> 
  </head>

  <body>
    <div class="container">
			
 <nav class="navbar navbar-default" role="navigation">
	<div class="container-fluid">
	  <!-- Brand and toggle get grouped for better mobile display -->
		<div id="logo"><a href="../"><img class="img-responsive" src="../images/charm_logo.jpg"></a></div>

<!-- Charm++ Button textformatted placeholder for logo button
		<div class="navbar-header">
	    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
	    </button>
	    <a class="navbar-brand" href="/"><b>Charm++</b></a>
	  </div>
-->

	  <!-- Collect the nav links, forms, and other content for toggling -->
	  <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
	    <ul class="nav navbar-nav">
              <li class="dropdown">
		<a href="#" class="dropdown-toggle" data-toggle="dropdown">Explore<span class="caret"></span></a>
		<ul class="dropdown-menu" role="menu">
		  <li><a href="../capabilities/">Capabilities</a></li>
		  <li><a href="../progmodel/">Programming Model</a></li>
		  <li><a href="../execmodel/">Execution Model</a></li>
		  <li><a href="../applications/">Applications</a></li>
		  <li><a href="https://charm.cs.illinois.edu/papers/">Publications</a></li>
		  <li><a href="../history/">History</a></li>
		</ul>
              </li>
              <li class="dropdown">
		<a href="#" class="dropdown-toggle" data-toggle="dropdown">Learn <span class="caret"></span></a>
		<ul class="dropdown-menu" role="menu">
		  <li><a href="https://charm.readthedocs.io/en/latest/charm++/manual.html#installing-charm">Installation</a></li>
      		  <li><a href="./">Tutorial</a></li>
						<li><a href="../exercises/">Exercises</a></li>
      		  <li><a href="../help/">Manual</a></li>
      		  <li><a href="../tools/">Tools</a></li>
      		  <li><a href="../othermedia/">Other Media</a></li>
		</ul>
              </li>

              <li class="dropdown">
		<a href="#" class="dropdown-toggle" data-toggle="dropdown">Follow <span class="caret"></span></a>
		<ul class="dropdown-menu" role="menu">
		  <li><a href="https://github.com/UIUC-PPL/charm/commits/master">Recent Commits</a></li>
      	  <li><a href="https://github.com/UIUC-PPL/charm/issues">Issue Tracker</a></li>
      		  <li><a href="https://charm.cs.illinois.edu/autobuild/cur/">Nightly Tests</a></li>
      	  <li><a href="https://lists.cs.illinois.edu/lists/info/charm">Mailing Lists</a></li>
      		  <li><a href="https://charm.cs.illinois.edu/gerrit/#/admin/projects/">Other Repositories</a></li>
      		  <li><a href="https://charm.cs.illinois.edu">PPL Website</a></li>
		</ul>
              </li>

              <li class="dropdown">
		<a href="../download/">Downloads</a>
              </li>

              <li class="dropdown">
		<a href="../miniApps/">Mini-Apps</a>
              </li>

	    </ul>
	  <form class="navbar-form navbar-right" role="search" method="get" action="http://www.google.com/search">
              <div class="form-group">
		<input type="hidden" name="sitesearch" value="charmplusplus.org">
		<input type="text" class="form-control" name="q" placeholder="Search">
              </div>
              <button type="submit" class="btn btn-default">Submit</button>
	    </form>
	  </div>
<!-- /.navbar-collapse -->
	</div>
<!-- /.container-fluid -->
      </nav>


 <div id="maincontainer">
   <div id="content">
       <link rel="stylesheet" type="text/css" href="TutorialStyle.css">
  
  <!-- Section Title -->
  <h1>Particles Code</h1>
  
  <!-- Figure -->
  <table class="StandardFigure" align="right" border="0">
   <tr><td align="center" valign="middle">
    <a href="images/particlescode.png">
     <img class="StandardFigure" src="images/particlescode.png" border="0">
    </a>
   </td></tr>
   <tr><td align="center" valign="middle">
    <b>Figure 1</b>
   </td></tr>
  </table>
    
  <h3>Description</h3>
  
  <p class="BasicParagraph">
  For the assignment, you will write code that simulates a set of particles moving randomly in a 2-dimensional space within a bounding box. The coordinates of the overall simulation box are between 0.0 and 100.0 along each dimension. The particles are divided among chares based on their coordinates. The chares should be organized in a 2-dimensional array of chares (using a chare array) of size <i>k x k</i>. So, each chare owns a bounding box of its own with size <i>100.0/k</i>. See Figure 1.
</p>

<p class="BasicParagraph">
  Your program should generate <i>n</i> particles per chare during construction with a random (but valid, i.e. within the chare) position for particles. Your program should accept the number of particles per cell <i>n</i>, and <i>k</i> as command line parameters in that sequence.
  </p>
  
  <h3>Skeleton Code</h3>
  
  <p class="BasicParagraph">
  A base code for Particles Code can be found <a href="examples/particlescode.tar">here</a>. The skeleton code includes base code for Mainchare <i>Main</i>, 2-D Chare Array <i>Cell</i> and <i>Particle</i> class representing the particles the Chare Array contains. There are also comments in the skeleton code that will guide you through the assignment.
  </p>
  
  <h3>Expected Output</h3>
  
  <p class="BasicParagraph">
  Your program should calculate and print to screen the maximum and total number of particles every 10 iterations. <b>Use the provided print function.</b> Additionally, the simulation should not be delayed by this calculation (i.e. you should use reductions).
  </p>

  <p class="BasicParagraph">
  For testing your Particles Code, you can use 10000 (=n) particles per chare, simulated over 100 steps and a chare array of size 16 x 16 (k=16).  Experiment with different number of particles and chare array sizes as our test cases will use values in addition to the defaults. 
  </p>

  <p class="BasicParagraph">
  	Note: There might be multiple particles having the same <i>x</i> and <i>y</i> coordinates, especially if you increase the density of each cell. You do not need to handle this case separately; it is a valid case assumption. 
	</p>

  

  <p class="BasicParagraph">
	  </p>
<ul>
		  <li>The pseudocode for the overall algorithm is:</li>
		  <code>for(iteration=0; iteration &lt; ITERATION; iteration++){</code>
			  <ul>
				  <li>For each of the particles that belong to my chare: change its x and y coordinate by a small random amount.</li>
				  <li>Move all the particles that do not belong to a chare's bounding box to their correct homes. Since the movement is small, this will mean communication to the eight near neighbor chares. Some of these messages may contain no particles.</li>
				  <li><code>if(iteration%10 == 0)</code></li>
				  <ul>
					  <li>Do reductions to calculate average and max number of particles</li>
				  </ul>
			  </ul>
			  <code>}</code>
		  </ul>
	  

   </div>
 </div>
      
      <div id="footer">
	Â© 2020 
    	<a href="https://charm.cs.illinois.edu">Parallel Programming Lab</a>,
	<a href="https://cs.illinois.edu">Dept of Computer Science</a>,
	<a href="https://illinois.edu">University of Illinois</a>
      </div>
    </div>
    <script src="../assets/hover.js" type="text/javascript"></script>
  </body>
</html>
